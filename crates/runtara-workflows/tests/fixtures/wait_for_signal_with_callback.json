{
  "name": "Wait for Signal with Callback",
  "description": "Test workflow that notifies external system when waiting",
  "steps": {
    "wait": {
      "stepType": "WaitForSignal",
      "id": "wait",
      "name": "Wait for approval with callback",
      "onWait": {
        "name": "Notify callback",
        "entryPoint": "log",
        "steps": {
          "log": {
            "stepType": "Log",
            "id": "log",
            "level": "info",
            "message": "Waiting for external signal"
          },
          "finish": {
            "stepType": "Finish",
            "id": "finish"
          }
        },
        "executionPlan": [
          { "fromStep": "log", "toStep": "finish" }
        ]
      },
      "timeoutMs": {
        "valueType": "immediate",
        "value": 60000
      }
    },
    "finish": {
      "stepType": "Finish",
      "id": "finish",
      "inputMapping": {
        "result": {
          "valueType": "reference",
          "value": "steps.wait.payload"
        }
      }
    }
  },
  "entryPoint": "wait",
  "executionPlan": [
    { "fromStep": "wait", "toStep": "finish" }
  ],
  "variables": {},
  "inputSchema": {},
  "outputSchema": {}
}
